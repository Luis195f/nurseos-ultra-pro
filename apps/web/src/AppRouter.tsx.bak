// apps/web/src/AppRouter.tsx
import { BrowserRouter, Routes, Route } from "react-router-dom";
import { lazy, Suspense } from "react";
import Layout from "./components/Layout";

// Secciones existentes
const App           = lazy(() => import("./pages/App"));
const Registry      = lazy(() => import("./pages/Registry"));
const Education     = lazy(() => import("./pages/Education"));
const Management    = lazy(() => import("./pages/Management"));
const Research      = lazy(() => import("./pages/Research"));
const Handover      = lazy(() => import("./pages/Handover"));
const ADT           = lazy(() => import("./pages/ADT"));
const BCMAHospital  = lazy(() => import("./pages/BCMAHospital"));
const Audit         = lazy(() => import("./pages/Audit"));
const BCMAPro       = lazy(() => import("./pages/BCMAPro"));

// Nuevas/confirmadas
const AIPanel       = lazy(() => import("./pages/AIPanel"));
const Scales        = lazy(() => import("./pages/Scales"));
const CodeBlue      = lazy(() => import("./pages/CodeBlue"));
const Deceased      = lazy(() => import("./pages/Deceased"));
const PatientRecord = lazy(() => import("./pages/PatientRecord"));

export default function AppRouter() {
  return (
    <BrowserRouter>
      <Layout>
        <Suspense fallback={<div className="p-8">Cargando…</div>}>
          <Routes>
            {/* Página inicial (ajústala si prefieres) */}
            <Route path="/" element={<Registry />} />
            <Route path="/app" element={<App />} />

            {/* Módulos base */}
            <Route path="/registry" element={<Registry />} />
            <Route path="/education" element={<Education />} />
            <Route path="/management" element={<Management />} />
            <Route path="/research" element={<Research />} />
            <Route path="/handover" element={<Handover />} />
            <Route path="/adt" element={<ADT />} />
            <Route path="/bcma-hg" element={<BCMAHospital />} />
            <Route path="/audit" element={<Audit />} />
            <Route path="/bcma-pro" element={<BCMAPro />} />

            {/* Nuevos */}
            <Route path="/ai" element={<AIPanel />} />
            <Route path="/scales" element={<Scales />} />
            <Route path="/code-blue" element={<CodeBlue />} />
            <Route path="/adt/code-blue" element={<CodeBlue />} />
            <Route path="/deceased" element={<Deceased />} />
            <Route path="/patients/:id" element={<PatientRecord />} />

            {/* 404 */}
            <Route
              path="*"
              element={<div className="p-8">404 — Página no encontrada</div>}
            />
          </Routes>
        </Suspense>
      </Layout>
    </BrowserRouter>
  );
}






